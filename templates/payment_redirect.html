{% extends "base.html" %}

{% block title %}Processing Payment...{% endblock %}

{% block content %}
<div style="display: flex; justify-content: center; align-items: center; min-height: 80vh;">
    <div class="card" style="max-width: 500px; text-align: center;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">âŒ›</div>
        <h1 style="margin-bottom: 1rem;">Redirecting to Payment Gateway...</h1>
        <p style="color: var(--text-muted); margin-bottom: 2rem;">
            Please wait while we redirect you to secure payment checkout.
        </p>

        <div class="spinner" style="margin: 2rem auto;"></div>

        <form id="paymentForm" action="{{ post_url }}" method="POST" style="display: none;">
            {% for key, value in form_data.items() %}
            <input type="hidden" name="{{ key }}" value="{{ value }}">
            {% endfor %}
        </form>
    </div>
</div>

<style>
    .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid rgba(139, 92, 246, 0.2);
        border-top: 4px solid var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>

<script>
    // Auto-submit form after 2 seconds
    setTimeout(function () {
        document.getElementById('paymentForm').submit();
    }, 2000);
</script>
{% endblock %}